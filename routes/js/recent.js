var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};
var app=new Vue({el:"#app",delimiters:["[[","]]"],mounted:function(){this.socket=io.connect("/websocket");this.socket.emit("create_connection");this.socket.on("recent",function(a){app.items=a.files;app.loading(!1);app.$nextTick(function(){loadcomponents();app.listener()})});this.getData();this.socket.on("delete",function(a){if(1==a.status){snackbar.labelText=a.filename+".pas was deleted successfully.";app.$refs[a.key][0].remove();for(var b=0;b<app.items.length;b++)if(app.items[b].key==a.key){app.items.remove(app.items[b]);
break}0<app.todelete.length?(app.todelete.remove(a.key),0==app.todelete.length&&(app.toggle_appbar(!1),snackbar.labelText="All selected files was deleted successfully.",snackbar.open(),app.loading(!1))):(snackbar.open(),app.loading(!1))}})},methods:{timeSince:function(a){a=a.split(" ");d1=a[0].replace(/^(\d{1,2}\/)(\d{1,2}\/)(\d{4})$/,"$2$1$3");a=new Date(d1+" "+a[1]);a=Math.floor((new Date-a)/1E3);var b=a/31536E3;if(1<b)return Math.floor(b)+" years ago";b=a/2592E3;if(1<b)return Math.floor(b)+" months ago";
b=a/86400;if(1<b)return Math.floor(b)+" days ago";b=a/3600;if(1<b)return Math.floor(b)+" hours ago";b=a/60;return 1<b?Math.floor(b)+" minutes ago":Math.floor(a)+" seconds ago"},toggle_appbar:function(a){void 0===a||a?this.$refs.appbar.style.display="block":(checkboxes=document.querySelectorAll('[type="checkbox"]:checked'),checkboxes.forEach(function(b){b.checked=!1}),this.count_files=0,this.$refs.appbar.style.display="none")},listener:function(){that=this;checkboxes=document.querySelectorAll('[type="checkbox"]');
checkboxes.forEach(function(a){a.addEventListener("change",function(){a.checked?that.todelete.push(a.value):that.todelete.remove(a.value);that.toggle_appbar(0<that.todelete.length)})})},newfile:function(){this.loading();window.location.href="/generate_new_uid"},redirect:function(a){window.location.href="/editor/"+a},loading:function(a){a=void 0===a?!0:a;var b=document.querySelector(".loading");a?(b.style.display="block",document.querySelector(".dialog--content").classList.add("on-progress")):(b.style.display=
"none",document.querySelector(".dialog--content").classList.remove("on-progress"))},getData:function(){this.loading();this.socket.emit("api",{command:"recent"})},mass_delete:function(){var a=this;that=this;this.todelete.forEach(function(b){a.deleteforever(b)})},deleteforever:function(a){this.loading();this.socket.emit("api",{command:"delete",key:a})},toggle_theme:function(){var a=new XMLHttpRequest;a.open("GET","/theme/"+document.body.classList[0],!0);a.send();"theme--light"==document.body.classList[0]?
(document.body.classList.remove("theme--light"),document.body.classList.add("theme--dark")):(document.body.classList.remove("theme--dark"),document.body.classList.add("theme--light"))}},data:{items:[],todelete:[],count_files:0}});
